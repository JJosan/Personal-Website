{"ast":null,"code":"import _asyncToGenerator from\"C:\\\\Users\\\\jason\\\\Documents\\\\Website\\\\my-app\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _slicedToArray from\"C:\\\\Users\\\\jason\\\\Documents\\\\Website\\\\my-app\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\jason\\\\Documents\\\\Website\\\\my-app\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import'../App.css';import rice from'../img/rice.png';import{useState,useEffect}from'react';import{data}from'../firebase-config.js';import{setDoc,doc,onSnapshot,collection}from'firebase/firestore';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Rice(){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),x=_useState2[0],setX=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),y=_useState4[0],setY=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),total=_useState6[0],setTotal=_useState6[1];var num=0;try{num=total[0].value;}catch(e){// do nothing\n}useEffect(function(){return onSnapshot(collection(data,\"Total\"),function(snapshot){return setTotal(snapshot.docs.map(function(doc){return doc.data();}));});},[]);var handleEdit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var docRef,payload;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:docRef=doc(data,\"Total\",\"Rice\");payload={value:total[0].value+1};setDoc(docRef,payload);case 3:case\"end\":return _context.stop();}}},_callee);}));return function handleEdit(){return _ref.apply(this,arguments);};}();function randomWidth(){return Math.floor(Math.random()*(60+60)-60);}function randomHeight(){return Math.floor(Math.random()*(60+10)-10);}function clicked(){handleEdit();setX(randomWidth);setY(randomHeight);}return/*#__PURE__*/_jsxs(\"section\",{style:{backgroundColor:'rgb(226, 229, 222)'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"RiceGame\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Rice\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Rice fields are an important part of my identity. My father, grandfather, and great-grandfather all harvested rice in the rice fields to live another day. I am the first generation in my family to escape the cycle to find a better life. When I advance in life, I will always remember the things that brought me this far.\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"PlayArea\",children:/*#__PURE__*/_jsx(\"img\",{src:rice,onClick:clicked,style:{position:'relative',left:x+'%',top:y+'%'}})}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Total Rice Harvested: \",/*#__PURE__*/_jsx(\"strong\",{children:num})]})]});}export default Rice;","map":{"version":3,"sources":["C:/Users/jason/Documents/Website/my-app/src/Sections/Rice.js"],"names":["rice","useState","useEffect","data","setDoc","doc","onSnapshot","collection","Rice","x","setX","y","setY","total","setTotal","num","value","e","snapshot","docs","map","handleEdit","docRef","payload","randomWidth","Math","floor","random","randomHeight","clicked","backgroundColor","position","left","top"],"mappings":"0ZAAA,MAAO,YAAP,CACA,MAAOA,CAAAA,IAAP,KAAiB,iBAAjB,CACA,OAASC,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,OAASC,IAAT,KAAqB,uBAArB,CACA,OAASC,MAAT,CAAiBC,GAAjB,CAAsBC,UAAtB,CAAkCC,UAAlC,KAAoD,oBAApD,C,wFAEA,QAASC,CAAAA,IAAT,EAAgB,CACZ,cAAkBP,QAAQ,CAAC,CAAD,CAA1B,wCAAOQ,CAAP,eAAUC,IAAV,eACA,eAAkBT,QAAQ,CAAC,CAAD,CAA1B,yCAAOU,CAAP,eAAUC,IAAV,eACA,eAA0BX,QAAQ,CAAC,EAAD,CAAlC,yCAAOY,KAAP,eAAcC,QAAd,eACA,GAAIC,CAAAA,GAAG,CAAG,CAAV,CACA,GAAI,CACAA,GAAG,CAAGF,KAAK,CAAC,CAAD,CAAL,CAASG,KAAf,CACH,CAAC,MAAOC,CAAP,CAAU,CACR;AACH,CAGDf,SAAS,CAAC,iBACNI,CAAAA,UAAU,CAACC,UAAU,CAACJ,IAAD,CAAM,OAAN,CAAX,CAA0B,SAACe,QAAD,QACpCJ,CAAAA,QAAQ,CAACI,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkB,SAAAf,GAAG,QAAIA,CAAAA,GAAG,CAACF,IAAJ,EAAJ,EAArB,CAAD,CAD4B,EAA1B,CADJ,EAAD,CAIR,EAJQ,CAAT,CAOA,GAAMkB,CAAAA,UAAU,0FAAG,sJACTC,MADS,CACAjB,GAAG,CAACF,IAAD,CAAO,OAAP,CAAgB,MAAhB,CADH,CAEToB,OAFS,CAEC,CAACP,KAAK,CAAGH,KAAK,CAAC,CAAD,CAAL,CAASG,KAAT,CAAiB,CAA1B,CAFD,CAGfZ,MAAM,CAACkB,MAAD,CAASC,OAAT,CAAN,CAHe,sDAAH,kBAAVF,CAAAA,UAAU,0CAAhB,CAMA,QAASG,CAAAA,WAAT,EAAuB,CACnB,MAAOC,CAAAA,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,IAAiB,GAAK,EAAtB,EAA4B,EAAvC,CAAP,CACH,CAED,QAASC,CAAAA,YAAT,EAAwB,CACpB,MAAOH,CAAAA,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,IAAiB,GAAK,EAAtB,EAA4B,EAAvC,CAAP,CACH,CAED,QAASE,CAAAA,OAAT,EAAmB,CACfR,UAAU,GACVX,IAAI,CAACc,WAAD,CAAJ,CACAZ,IAAI,CAACgB,YAAD,CAAJ,CACH,CAED,mBACA,iBAAS,KAAK,CAAE,CAAEE,eAAe,CAAE,oBAAnB,CAAhB,wBACI,aAAK,SAAS,CAAC,UAAf,wBACI,4BADJ,cAEI,uVAFJ,GADJ,cAOI,YAAK,SAAS,CAAC,UAAf,uBACI,YAAK,GAAG,CAAE9B,IAAV,CAAgB,OAAO,CAAE6B,OAAzB,CAAkC,KAAK,CAAE,CAAEE,QAAQ,CAAE,UAAZ,CAAwBC,IAAI,CAAEvB,CAAC,CAAG,GAAlC,CAAuCwB,GAAG,CAAEtB,CAAC,CAAG,GAAhD,CAAzC,EADJ,EAPJ,cAUI,2DAAyB,wBAASI,GAAT,EAAzB,GAVJ,GADA,CAcH,CAED,cAAeP,CAAAA,IAAf","sourcesContent":["import '../App.css';\r\nimport rice from '../img/rice.png';\r\nimport { useState, useEffect } from 'react';\r\nimport { data } from '../firebase-config.js';\r\nimport { setDoc, doc, onSnapshot, collection } from 'firebase/firestore';\r\n\r\nfunction Rice() {\r\n    const [x, setX] = useState(0);\r\n    const [y, setY] = useState(0);\r\n    const [total, setTotal] = useState([]);\r\n    let num = 0;\r\n    try {\r\n        num = total[0].value;\r\n    } catch (e) {\r\n        // do nothing\r\n    }\r\n\r\n\r\n    useEffect(() => \r\n        onSnapshot(collection(data,\"Total\"),(snapshot) => \r\n        setTotal(snapshot.docs.map(doc => doc.data()))\r\n        ),\r\n     []\r\n    );\r\n\r\n    const handleEdit = async () => {\r\n        const docRef = doc(data, \"Total\", \"Rice\");\r\n        const payload = {value : total[0].value + 1};\r\n        setDoc(docRef, payload);\r\n    }\r\n\r\n    function randomWidth() {\r\n        return Math.floor(Math.random() * (60 + 60) - 60);\r\n    }\r\n    \r\n    function randomHeight() {\r\n        return Math.floor(Math.random() * (60 + 10) - 10);\r\n    }\r\n\r\n    function clicked() {\r\n        handleEdit();\r\n        setX(randomWidth);\r\n        setY(randomHeight);\r\n    }\r\n\r\n    return (\r\n    <section style={{ backgroundColor: 'rgb(226, 229, 222)' }}>\r\n        <div className='RiceGame'>\r\n            <h2>Rice</h2>\r\n            <p>Rice fields are an important part of my identity. My father, grandfather, and great-grandfather all harvested rice\r\n                in the rice fields to live another day. I am the first generation in my family to escape the cycle to find a better life.\r\n                When I advance in life, I will always remember the things that brought me this far.</p>    \r\n        </div>\r\n        <div className='PlayArea'>\r\n            <img src={rice} onClick={clicked} style={{ position: 'relative', left: x + '%', top: y + '%'}}/>\r\n        </div>\r\n        <p>Total Rice Harvested: <strong>{num}</strong></p>\r\n    </section>\r\n    );\r\n}\r\n\r\nexport default Rice;"]},"metadata":{},"sourceType":"module"}